$(function($) {
    "use strict";
    $(document).ready(function() {


        var top = $('#apply').offset().top - parseFloat($('#apply').css('margin-top').replace(/auto/, 0));
        var bottom = $('#Job-Detail').offset().top + $('#Job-Detail').outerHeight();
        var width = $(window).width();
        var Vh = $('.vacancy-header').outerHeight();
        // Vacancy-Header Fixed
        $(window).scroll(function(event) {
            var t = $(window).scrollTop();
            var h = $('.breadcrumbs').outerHeight() + $('.toplinkzone').height();
            if (t >= h) {
                $('body').css('margin-top', Vh);
                $('.vacancy-header').addClass('vacancy-header-fixed');
                $('.vacancy-header-footer,.breadcrumbs,.header-other,.update').addClass('hide');
            } else {
                $('body').css('margin-top', '0');
                $('.vacancy-header').removeClass('vacancy-header-fixed');
                $('.vacancy-header-footer,.breadcrumbs,.header-other,.update').removeClass('hide');
            }
        });
        // Side Apply-Box Fixed
        $(document).scroll(function(event) {

            var y = $(this).scrollTop() + $('.vacancy-header').outerHeight();
            var z = y + $('#apply').outerHeight();
            var Vhf = $('.vacancy-header-fixed').outerHeight();

            if (y >= top && z <= bottom && width >= 992) {
                $('#apply').css('top', Vhf + $('.toplinkzone').height() + 28 +14);
                $('#apply').addClass('fixed').removeClass('absolute');
                $('#side-col').removeClass('absolute');
            } else if (z > bottom && width >= 992) {
                $('#apply').css('top', '');
                $('#apply').removeClass('fixed').addClass('absolute');
                $('#side-col').removeClass('fixed').addClass('absolute');
            } else {
                $('#apply').css('top', '');
                $('#apply').removeClass('fixed');
            }
        });
        // More Bouns Fixed
        $("#bouns").click(function() {
            $("html, body").animate({
                scrollTop: $("#bouns-in").offset().top - 106 - 28
            }, 500)
            return false;
        });
    });

    // category-a-open //
    $(".category a").on("click", function(e) {
        if ($(this).next(".category-box").is(":hidden")) {
            $(this).next(".category-box").show();
        } else {
            $(this).next(".category-box").hide();
        }

        $(document).one("click", function() {
            $(".category-box").hide();
        });

        e.stopPropagation();
    });

    /// warning-box ///
    $(".warning-box").click(function() {
        $(this).toggleClass("open");
        if ($(this).hasClass("open"))
            $(".warning-box").not(this).removeClass("open");
    });

    /// Owl-carousel ///
    if ($("#Similar").length > 0) {
        $("#Similar").owlCarousel({
            loop: true,
            nav: true,
            margin: 0,
            autoplayHoverPause: true,
            dots: false,
            animateOut: 'fadeOut',
            thumbs: true,
            thumbsPrerendered: true,
            responsiveClass: true,
            responsive: {
                0: {
                    items: 2
                },
                768: {
                    items: 3
                },
            },
        });
    };
    if ($("#Another").length > 0) {
        $("#Another").owlCarousel({
            loop: true,
            nav: true,
            margin: 16,
            autoplayHoverPause: true,
            dots: false,
            animateOut: 'fadeOut',
            thumbs: true,
            thumbsPrerendered: true,
            responsiveClass: true,
            responsive: {
                0: {
                    items: 2
                },
                768: {
                    items: 3
                },
                992: {
                    items: 4
                },
            },
        });
    };
    if ($("#TheSame").length > 0) {
        $("#TheSame").owlCarousel({
            loop: true,
            nav: true,
            margin: 16,
            autoplayHoverPause: true,
            dots: false,
            animateOut: 'fadeOut',
            thumbs: true,
            thumbsPrerendered: true,
            responsiveClass: true,
            responsive: {
                0: {
                    items: 2
                },
                768: {
                    items: 3
                },
                992: {
                    items: 4
                },
            },
        });
    };
    if ($("#enviroment").length > 0) {
        $("#enviroment").owlCarousel({
            loop: true,
            center: true,
            margin: 8,
            video: true,
            lazyLoad: true,
            autoplayHoverPause: true,
            dots: false,
            animateOut: 'fadeOut',
            thumbs: true,
            thumbsPrerendered: true,
            responsive: {
                0: {
                    items: 2
                },
                600: {
                    items: 3
                }
            }
        });
    };

    /// Heart ///
    $(function() {
        $(".heart").click(function() {
            $(this).find('.heart-icon').toggleClass('heart-icon-pink');
            return false;
        });
    });

    $(function() {
        $('.btn--collect').click(function() {
            $('.btn--collect').toggleClass('btn--collected');
            $('.apply-box-collect>a>i').toggleClass('fa-heart-o').toggleClass('fa-heart');
        });
    });



});